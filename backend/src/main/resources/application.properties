
# quarkus.mongodb.connection-string = mongodb+srv://natambusiness_db_user:F0bsBwSXtbAtEwhs@bfftest.cbe4oc2.mongodb.net/?retryWrites=true&w=majority&appName=bfftest
# quarkus.mongodb.database = betsapp

# =========================
# Commun (tous profils)
# =========================
quarkus.http.host=0.0.0.0
quarkus.http.port=${PORT:8080}

# Mongo via variables d'env (NE JAMAIS COMMIT L'URI)
quarkus.mongodb.connection-string=${QUARKUS_MONGODB_CONNECTION_STRING}
quarkus.mongodb.database=${QUARKUS_MONGODB_DATABASE:betsapp}

# Tes props applicatives (surchargées par ENV en prod)
app.link.secret=${APP_LINK_SECRET:change-me-super-secret}
app.base.url=${APP_BASE_URL:http://localhost:5173}

# OpenAPI / Swagger
quarkus.smallrye-openapi.path=/q/openapi
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/q/swagger-ui

# CORS (liste séparée par des virgules)
# Remplace <ton-app> par le nom Netlify réel.
# La regex /https:\/\/.*\.netlify\.app/ autorise aussi les "deploy previews".
quarkus.http.cors=true
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS,PATCH
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with
quarkus.http.cors.exposed-headers=location
quarkus.http.cors.access-control-max-age=24H

# =========================
# Profil DEV (local)
# =========================
%dev.quarkus.mongodb.connection-string=mongodb://localhost:27017
%dev.quarkus.mongodb.database=betsapp
%dev.quarkus.http.cors.origins=http://localhost:5173

# =========================
# Profil PROD (Koyeb)
# =========================
# Conseil: fixe précisément TON site Netlify + la regex pour les previews.
%prod.quarkus.http.cors.origins=https://storied-youtiao-971729.netlify.app,/https:\/\/.*\.netlify\.app/
